/* stylelint-disable at-rule-no-unknown */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Design Tokens */
:root {
  --background: 0 0% 100%;
  --foreground: 240 10% 3.9%;
  --card: 0 0% 100%;
  --card-foreground: 240 10% 3.9%;
  --popover: 0 0% 100%;
  --popover-foreground: 240 10% 3.9%;
  /* Updated primary palette to unified blue */
  --primary: 221 83% 53%; /* base brand blue */
  --primary-foreground: 210 40% 98%;
  /* Extended brand scale */
  --brand-50: 213 100% 97%;
  --brand-100: 214 95% 93%;
  --brand-200: 213 97% 87%;
  --brand-300: 212 96% 78%;
  --brand-400: 213 94% 68%;
  --brand-500: 221 83% 53%;
  --brand-600: 221 71% 45%;
  --brand-700: 224 64% 33%;
  --brand-800: 225 57% 23%;
  --brand-900: 224 55% 15%;
  --secondary: 240 4.8% 95.9%;
  --secondary-foreground: 240 5.9% 10%;
  --muted: 240 4.8% 95.9%;
  --muted-foreground: 240 3.8% 46.1%;
  --accent: 240 4.8% 95.9%;
  --accent-foreground: 240 5.9% 10%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 5.9% 90%;
  --input: 240 5.9% 90%;
  --ring: 221 83% 53%;
  --radius: 0.5rem;
}

.dark:root, .dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --primary: 221 83% 60%;
  --primary-foreground: 0 0% 100%;
  --brand-50: 215 28% 17%;
  --brand-100: 215 25% 22%;
  --brand-200: 215 22% 27%;
  --brand-300: 215 20% 32%;
  --brand-400: 221 70% 55%;
  --brand-500: 221 75% 60%;
  --brand-600: 221 71% 55%;
  --brand-700: 221 66% 50%;
  --brand-800: 221 64% 45%;
  --brand-900: 221 60% 40%;
  --secondary: 240 3.7% 15.9%;
  --secondary-foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --accent: 240 3.7% 15.9%;
  --accent-foreground: 0 0% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --ring: 221 83% 60%;
}

/* Base */
* { border-color: hsl(var(--border)); }
body { background: hsl(var(--background)); color: hsl(var(--foreground)); -webkit-font-smoothing: antialiased; }
::selection { background: hsl(var(--primary) / 0.18); color: hsl(var(--foreground)); }
[dir="rtl"] { direction: rtl; }
[dir="ltr"] { direction: ltr; }

/* Keyframes */
@keyframes fadeInUp { to { opacity:1; transform:translateY(0); } }
@keyframes fadeInLeft { to { opacity:1; transform:translateX(0); } }
@keyframes fadeInRight { to { opacity:1; transform:translateX(0); } }
@keyframes fadeInDown { to { opacity:1; transform:translateY(0); } }

/* Animations */
.animate-fade-in-up { animation: fadeInUp .6s ease-out both; opacity:0; }
.animate-fade-in-left { animation: fadeInLeft .6s ease-out both; opacity:0; }
.animate-fade-in-right { animation: fadeInRight .6s ease-out both; opacity:0; }
.animate-fade-in-down { animation: fadeInDown .4s ease-out both; opacity:0; }

/* Semantic Utilities */
.surface { background: hsl(var(--card)); border:1px solid hsl(var(--border)); border-radius:.75rem; }
.surface-lg { background: hsl(var(--card)); border:1px solid hsl(var(--border)); border-radius:1rem; }
.surface-soft { background: hsl(var(--muted)); border:1px solid hsl(var(--muted) / 0.4); }
.surface-alt { background: linear-gradient(to bottom right, hsl(var(--card)), hsl(var(--muted))); }
.section { padding-top:4rem; padding-bottom:4rem; }
@media (min-width:768px){ .section { padding-top:6rem; padding-bottom:6rem; } }
.section-tight { padding-top:2.5rem; padding-bottom:2.5rem; }
@media (min-width:768px){ .section-tight { padding-top:4rem; padding-bottom:4rem; } }
.section-alt { padding-top:4rem; padding-bottom:4rem; background: linear-gradient(to bottom, hsl(var(--background)) 0%, hsl(var(--background)) 60%, hsl(var(--muted))/0.4 100%); }
@media (min-width:768px){ .section-alt { padding-top:6rem; padding-bottom:6rem; } }
.text-soft { color: hsl(var(--muted-foreground)); }
.text-dim { color: hsl(var(--muted-foreground)/0.7); }
a.link-muted { color: hsl(var(--muted-foreground)); transition:color .15s; }
a.link-muted:hover { color: hsl(var(--foreground)); }
.badge-neutral { background:hsl(var(--muted)); color:hsl(var(--muted-foreground)); border:1px solid hsl(var(--border)); border-radius:.5rem; padding:2px 6px; font-size:11px; font-weight:500; }
.cta-primary { background: linear-gradient(135deg, hsl(var(--primary) / 0.12), hsl(var(--primary) / 0)); border:1px solid hsl(var(--primary) / 0.25); }
.divider { height:1px; width:100%; background: linear-gradient(to right, transparent, hsl(var(--border)), transparent); }
.shadow-soft { box-shadow: 0 2px 4px -2px hsl(var(--foreground)/0.04), 0 4px 12px -2px hsl(var(--foreground)/0.06); }
.shadow-glow { box-shadow: 0 0 0 1px hsl(var(--primary) / 0.15), 0 0 0 4px hsl(var(--primary) / 0.05); }
/* Brand Utilities */
.bg-brand-soft { background: hsl(var(--brand-50)); }
.text-brand { color: hsl(var(--primary)); }
.border-brand { border-color: hsl(var(--primary)); }
.brand-gradient { background: linear-gradient(135deg, hsl(var(--primary) / 0.12), hsl(var(--primary) / 0)); }
.btn-brand { background: linear-gradient(to right, hsl(var(--primary) / 0.95), hsl(var(--primary))); color: hsl(var(--primary-foreground)); }
.btn-brand:hover { filter: brightness(1.05); }
@media (max-width:640px){ .hide-mobile { display:none!important; } }
@media (min-width:640px){ .show-mobile { display:none!important; } }
:focus-visible { outline:2px solid hsl(var(--primary)); outline-offset:2px; border-radius:4px; }
::-webkit-scrollbar { width:10px; height:10px; }
::-webkit-scrollbar-track { background:hsl(var(--background)); }
::-webkit-scrollbar-thumb { background:hsl(var(--muted)); border-radius:999px; border:2px solid hsl(var(--background)); }
::-webkit-scrollbar-thumb:hover { background:hsl(var(--muted-foreground)/0.5); }
/* Highlight flash for newly created/updated items */
@keyframes flashHighlight { 0% { box-shadow:0 0 0 0 hsl(var(--primary)/0.55); background:hsl(var(--primary)/0.08);} 60% { box-shadow:0 0 0 6px hsl(var(--primary)/0); background:hsl(var(--primary)/0.03);} 100% { box-shadow:none; background:transparent;} }
.flash-highlight { animation: flashHighlight 1.4s ease-out; }